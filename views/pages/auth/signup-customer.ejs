<div class="auth-page">
  <div class="auth-container">
  <div class="auth-header">
    <h1>Sign Up as Customer</h1>
    <p>Discover trusted service providers</p>
  </div>

  <% if (locals.errors && errors.length > 0) { %>
    <div class="error-message">
        <% errors.forEach(error => { %>
          <p>❌ <%= error %></p>
        <% }) %>
    </div>
  <% } %>

  <form action="/auth/signup/customer" method="POST" id="signupForm">
    <div class="form-group">
      <label for="name" class="form-label">Full Name *</label>
      <div class="input-with-icon">
        <span class="input-icon">👤</span>
        <input
          type="text"
          id="name"
          name="name"
          class="form-input"
          placeholder="Full Name"
          required
          minlength="2"
          maxlength="50"
          value="<%= locals.formData && formData.name || '' %>"
        />
      </div>
    </div>

    <div class="form-group">
      <label for="email" class="form-label">Email Address *</label>
      <div class="input-with-icon">
        <span class="input-icon">📧</span>
        <input
          type="email"
          id="email"
          name="email"
          class="form-input"
          placeholder="your@email.com"
          required
          value="<%= locals.formData && formData.email || '' %>"
        />
      </div>
    </div>

    <div class="form-group">
      <label for="password" class="form-label">Password *</label>
      <div class="password-input-wrapper">
        <div class="input-with-icon">
          <span class="input-icon">🔒</span>
        <input
          type="password"
          id="password"
          name="password"
          class="form-input"
          placeholder="Minimum 8 characters"
          required
          minlength="8"
          maxlength="72"
          style="padding-right: 3rem;"
        />
        </div>
        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('password')">
          👁️
        </button>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword" class="form-label">Confirm Password *</label>
      <div class="password-input-wrapper">
        <div class="input-with-icon">
          <span class="input-icon">🔒</span>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          class="form-input"
          placeholder="Re-enter your password"
          required
          minlength="8"
          maxlength="72"
          style="padding-right: 3rem;"
        />
        </div>
        <button type="button" class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')">
          👁️
        </button>
      </div>
      <span class="form-error" id="passwordMatchError"></span>
    </div>

    <div class="form-group">
      <label for="city" class="form-label">City *</label>
      <div class="input-with-icon">
        <span class="input-icon">📍</span>
        <input
          type="text"
          id="city"
          name="city"
          class="form-input"
          placeholder="Your City"
          required
          minlength="2"
          maxlength="50"
          value="<%= locals.formData && formData.city || '' %>"
        />
      </div>
    </div>

    <div class="form-group">
      <label for="pincode" class="form-label">Pincode *</label>
      <div class="input-with-icon">
        <span class="input-icon">📮</span>
        <input
          type="text"
          id="pincode"
          name="pincode"
          class="form-input"
          placeholder="123456"
          required
          pattern="\d{6}"
          maxlength="6"
          value="<%= locals.formData && formData.pincode || '' %>"
        />
      </div>
    </div>

    <input type="hidden" name="role" value="customer" />

    <button type="submit" class="btn-primary">
      ✨
      Create Account
    </button>
  </form>

  <div class="auth-footer">
    <p>Already have an account? <a href="/auth/login">Log in</a></p>
  </div>
  </div>
</div>

<script src="/js/auth.js"></script>
