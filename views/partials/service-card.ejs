<div class="my-service-card-modern <%= showActions ? 'with-actions' : '' %>" data-status="<%= service.isPaused ? 'paused' : 'active' %>">
  <!-- Status Badge -->
  <% if (showActions) { %>
    <div class="card-status-badge-modern <%= service.isPaused ? 'status-paused' : 'status-active' %>">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <% if (service.isPaused) { %>
          <rect x="6" y="4" width="4" height="16"></rect>
          <rect x="14" y="4" width="4" height="16"></rect>
        <% } else { %>
          <polyline points="9 11 12 14 22 4"></polyline>
          <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
        <% } %>
      </svg>
      <%= service.isPaused ? 'Paused' : 'Active' %>
    </div>
  <% } %>

  <a href="/service/<%= service._id %>" class="card-main-content-modern">
    <!-- Image Section -->
    <div class="card-image-section-modern">
      <% if (service.images && service.images.length > 0) { %>
        <img src="<%= service.images[0] %>" alt="<%= service.title %>" loading="lazy" class="card-image-modern" />
      <% } else if (service.primaryImage) { %>
        <img src="<%= service.primaryImage %>" alt="<%= service.title %>" loading="lazy" class="card-image-modern" />
      <% } else { %>
        <div class="card-image-placeholder-modern">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <circle cx="8.5" cy="8.5" r="1.5"></circle>
            <polyline points="21 15 16 10 5 21"></polyline>
          </svg>
          <span>No Image</span>
        </div>
      <% } %>
      
      <!-- Category and Mode Badges -->
      <div class="card-image-badges-modern">
        <span class="image-badge-category-modern">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
          </svg>
          <%= service.category %>
        </span>
        <span class="image-badge-mode-modern">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <% if (service.mode === 'Online') { %>
              <circle cx="12" cy="12" r="10"></circle>
              <circle cx="12" cy="12" r="6"></circle>
              <circle cx="12" cy="12" r="2"></circle>
            <% } else { %>
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            <% } %>
          </svg>
          <%= service.mode %>
        </span>
      </div>
    </div>

    <!-- Content Section -->
    <div class="card-content-section-modern">
      <div class="card-header-section-modern">
        <h3 class="card-title-modern"><%= service.title %></h3>
        <% if (service.description) { %>
          <p class="card-description-modern"><%= service.description.substring(0, 120) %><%= service.description.length > 120 ? '...' : '' %></p>
        <% } %>
      </div>

      <div class="card-info-grid-modern">
        <div class="card-info-item-modern">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
          <span><%= service.city %></span>
        </div>

        <div class="card-info-item-modern">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
          <span><%= service.viewCount || 0 %> views</span>
        </div>

        <div class="card-info-item-modern card-price-item-modern">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="1" x2="12" y2="23"></line>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
          </svg>
          <span class="price-value-modern">
            <% if (service.pricingType === 'Hourly') { %>
              ₹<%= service.basePrice %><span class="price-unit-modern">/hour</span>
            <% } else if (service.pricingType === 'Fixed') { %>
              ₹<%= service.basePrice %>
            <% } else if (service.pricingType === 'Package' && service.packages && service.packages.length) { %>
              <%
              const minPackagePrice = Math.min(...service.packages.map(p => p.price || 0));
              %>
              From ₹<%= minPackagePrice %>
            <% } %>
          </span>
        </div>
      </div>
    </div>
  </a>

  <!-- Actions Section -->
  <% if (showActions) { %>
    <div class="card-actions-section-modern">
      <a href="/services/<%= service._id %>/edit" class="card-action-btn-modern btn-edit-modern">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
        </svg>
        Edit
      </a>
      
      <button class="card-action-btn-modern btn-toggle-modern toggle-status-btn" 
              data-id="<%= service._id %>" 
              data-status="<%= service.isPaused ? 'paused' : 'active' %>">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <% if (service.isPaused) { %>
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          <% } else { %>
            <rect x="6" y="4" width="4" height="16"></rect>
            <rect x="14" y="4" width="4" height="16"></rect>
          <% } %>
        </svg>
        <%= service.isPaused ? 'Activate' : 'Pause' %>
      </button>
      
      <button class="card-action-btn-modern btn-delete-modern delete-service-btn" data-id="<%= service._id %>">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          <line x1="10" y1="11" x2="10" y2="17"></line>
          <line x1="14" y1="11" x2="14" y2="17"></line>
        </svg>
        Delete
      </button>
    </div>
  <% } %>
</div>
